<?xml version="1.0"?>
<robot name="arm_robot" xmlns:xacro="http://www.ros.org/wiki/xacro">
    
    <xacro:macro name="arm", params="link_name rgba">
        <link name="${link_name}">
            <visual>
                <origin xyz="0 0 0" rpy="0 0 0"></origin>
                <geometry>
                    <mesh filename="package://dofbot_info/meshes/${link_name}.STL" />
                </geometry>
                <material name="">
                    <color rgba="${rgba}">
                </material>
            </visual>
            <collision>
                <origin xyz="0 0 0" rpy="0 0 0">
                <geometry>
                    <mesh filename="package://dofbot_info/meshes/${link_name}.STL" />
                </geometry>
            </collision>
        </link>
    </xacro:macro>

    <xacro:macro name="joint" params="joint_name xyz_param rpy_param parent_link child_link">
        <joint name="${joint_name}" type="revolute">
            <origin xyz="${xyz_param}" rpy="${rpy_param}">
                <parent link="">
                <child link="">
                <axis xyz="0 0 1">
                <limit effort="30" velocity="1.0" lower="-1.5708" upper="1.5708"/>
            </origin>
        </joint>
    </xacro:macro>

    <xacro:arm link_name="base_link" rgba="0.592156862745098 0.666666666666667 0.682352941176471 1"/>
    <xacro:arm link_name="link1" rgba="0 0.627450980392157 0.235294117647059 1"/>
    <xacro:joint joint_name="joint1" xyz_param="0 0 0.06605" rpy="-0.010805 0 0" parent_link="base_link" child_link="link1"/>
    
    <xacro:arm link_name="link2" rgba="0.592156862745098 0.666666666666667 0.682352941176471 1"/>
    <xacro:joint joint_name="joint2" xyz_param="0 -0.00031873 0.04145" rpy="0 1.5708 0" parent_link="link1" child_link="link2"/>

    <xacro:arm link_name="link3" rgba="0 0.627450980392157 0.235294117647059 1"/>
    <xacro:joint joint_name="joint3" xyz_param="-0.08285 0 0" rpy="0 0 0" parent_link="link2" child_link="link3"/>

    <xacro:arm link_name="link4" rgba="0.592156862745098 0.666666666666667 0.682352941176471 1"/>
    <xacro:joint joint_name="joint4" xyz_param="-0.08285 0 0" rpy="0 0 0.0083081" parent_link="link3" child_link="link4"/>

    <xacro:arm link_name="link5" rgba="1 1 1 1"/>
    <xacro:joint joint_name="joint5" xyz_param="-0.07385 -0.001 0" rpy="0 -1.57 0" parent_link="link4" child_link="link5"/>

</robot>